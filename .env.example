# ============================================================================
# TheAutoDoctor Environment Variables
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to git

# ============================================================================
# Supabase Configuration
# ============================================================================
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# ============================================================================
# Security & Encryption (Phase 0 - Required)
# ============================================================================

# Encryption key for PII (SIN, Business Numbers)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=

# Upstash Redis for rate limiting (free tier: https://upstash.com)
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# ============================================================================
# Payment Processing
# ============================================================================

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================================================
# Communication Services
# ============================================================================

# Twilio (for phone verification - Phase 1)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
TWILIO_VERIFY_SERVICE_SID=

# Email (Resend or SendGrid)
RESEND_API_KEY=
SENDGRID_API_KEY=

# Email notifications for session requests
REQUEST_ALERT_FROM_EMAIL="Auto Doctor <notifications@theautodoctor.com>"
# Comma-separated mechanic emails to notify when new requests arrive
REQUEST_ALERT_RECIPIENTS=

# ============================================================================
# File Storage
# ============================================================================

# Supabase Storage (already configured via Supabase)
# No additional env vars needed

# ============================================================================
# Video/WebRTC (if using external service)
# ============================================================================
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=
LIVEKIT_URL=

# ============================================================================
# Application Settings
# ============================================================================

# Base URL
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Environment
NODE_ENV=development

# Cron Job Security (for /api/cron/* endpoints)
# Generate with: openssl rand -hex 32
CRON_SECRET=

# Debug endpoint security (for /api/debug/* endpoints)
DEBUG_SECRET=

# ============================================================================
# Feature Flags (Phase 1+)
# ============================================================================

# Enable workshop features (toggle for gradual rollout)
NEXT_PUBLIC_ENABLE_WORKSHOPS=false

# Enable corporate accounts (toggle for B2B SaaS features)
NEXT_PUBLIC_ENABLE_CORPORATE=false

# Beta testing mode
NEXT_PUBLIC_BETA_MODE=false

# RFQ Marketplace (multi-workshop competitive bidding)
# Default: false (disabled until Phase 1 complete)
ENABLE_WORKSHOP_RFQ=false

# Customer Direct RFQ Creation (bypass mechanic escalation)
# Default: false (additive feature, requires ENABLE_WORKSHOP_RFQ=true)
# When enabled: Customers can create RFQs directly, workshops can bid
# When disabled: Customer RFQ UI hidden, APIs return 404
ENABLE_CUSTOMER_RFQ=false

# ============================================================================
# Internal Feature Flags (Batch 2 Remediation)
# ============================================================================

# Clock route table selection (Phase 1B)
# false (default): Use sessions table for clock-out session stats
# true: Use diagnostic_sessions table (legacy fallback for testing)
AAD_USE_DIAGNOSTIC_SESSIONS_FOR_CLOCK=false

# ============================================================================
# Analytics & Monitoring (Optional)
# ============================================================================

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=

# Sentry
NEXT_PUBLIC_SENTRY_DSN=

# PostHog
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=
